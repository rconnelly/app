<section data-ng-controller="ItemsController" data-ng-init="initEdit()">

    <h2>{{ pageTitle }}</h2>
    <form name="itemForm" class="form" role="form" data-ng-submit="save(item)" novalidate>

        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4>Item Details</h4>
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="form-group col-md-5" data-ng-class="{ 'has-error' : submitted && itemForm.itemName.$invalid }">
                                <label mean-token="'create-item-name'" for="itemName" class="control-label">Name</label>
                                <input name="itemName" type="text" class="form-control" data-ng-model="item.name" id="itemName" placeholder="required" required />
                                <ul ng-show="submitted && itemForm.itemName.$invalid" class="error-list">
                                    <li class="required" ng-show="itemForm.itemName.$error.required">Required</li>
                                </ul>
                            </div>
                            <div class="form-group col-md-3" data-ng-class="{ 'has-error' : submitted && itemForm.itemPrice.$invalid }">
                                <label mean-token="'create-item-price'" for="itemPrice" class="control-label">Price</label>
                                <div class="input-group">
                                    <span class="input-group-addon">$</span>
                                    <input name="itemPrice" type="text" class="form-control" data-ng-model="item.price" id="itemPrice" placeholder="required" required />
                                </div>
                                <ul ng-show="submitted && itemForm.itemPrice.$invalid" class="error-list">
                                    <li class="required" ng-show="itemForm.itemPrice.$error.required">Required</li>
                                </ul>
                            </div>
                            <div class="form-group col-md-2" data-ng-class="{ 'has-error' : submitted && itemForm.recurringPeriod.$invalid }">
                                <label mean-token="'create-item-recurringPeriod'" for="itemName" class="control-label">Every</label>
                                <input name="recurringPeriod" type="text" class="form-control" data-ng-model="item.recurringPeriod" id="recurringPeriod" placeholder="" required />
                                <ul ng-show="submitted && itemForm.recurringPeriod.$invalid" class="error-list">
                                    <li class="required" ng-show="itemForm.recurringPeriod.$error.required">Required</li>
                                </ul>
                            </div>
                            <div class="form-group col-md-2" data-ng-class="{ 'has-error' : submitted && itemForm.recurringPeriodType.$invalid }">
                                <label mean-token="'create-item-recurring-type-period'" for="itemName" class="control-label"></label>
                                <select name="recurringPeriodType" class="form-control" id="recurringPeriodType" data-ng-model="item.recurringPeriodType"
                                        ng-options="type.type as type.name for type in recurringPeriodTypes" required></select>

                                <ul ng-show="submitted && itemForm.recurringPeriodType.$invalid" class="error-list">
                                    <li class="required" ng-show="itemForm.recurringPeriodType.$error.required">Required</li>
                                </ul>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-5" data-ng-class="{ 'has-error' : submitted && itemForm.itemDescription.$invalid }">
                                <label mean-token="'create-item-item-description'" for="itemDescription" class="control-label">Description</label>
                            <textarea name="itemDescription" id="itemDescription" data-ng-model="item.description" class="form-control"></textarea>
                            </div>

                            <div class="form-group col-md-3" data-ng-class="{ 'has-error' : submitted && itemForm.itemSetupFee.$invalid }">
                                <label mean-token="'create-item-price'" for="itemPrice" class="control-label">Setup Fee</label>
                                <div class="input-group">
                                    <span class="input-group-addon">$</span>
                                    <input name="itemSetupFee" type="text" class="form-control" data-ng-model="item.setupFee" id="itemSetupFee" placeholder="" />
                                </div>
                                <ul ng-show="submitted && itemForm.itemSetupFee.$invalid" class="error-list">
                                    <li class="required" ng-show="itemForm.itemSetupFee.$error.required">Required</li>
                                </ul>
                            </div>

                            <div class="form-group col-md-4" data-ng-class="{ 'has-error' : submitted && itemForm.revRecTemplate.$invalid }">
                                <label mean-token="'create-item-rrsched'" for="revRecTemplate" class="control-label">Rev Rec Template</label>
                                <select name="revRecTemplate" class="form-control" id="revRecTemplate" data-ng-model="item.revRecTemplate"
                                        ng-options="rrs for rrs in revRecs" required></select>
                                    <ul ng-show="submitted && itemForm.revRecTemplate.$invalid" class="error-list">
                                        <li class="required" ng-show="itemForm.revRecTemplate.$error.required">Required</li>
                                    </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class=" panel panel-default btn-toolbar">
                    <div class="panel-body text-center">
                        <button type="button" class="btn btn-default btn-lg" data-ng-click="cancel()">Cancel</button>
                        <button type="submit" class="btn btn-primary btn-lg">Save</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</section>
